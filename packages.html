

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>12. Packages Structure &mdash; Keypirinha</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="13. Extending Keypirinha (API)" href="api.html" />
    <link rel="prev" title="11. Architecture" href="architecture.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Keypirinha
          

          
            
            <img src="_static/app-128.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.26
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="download.html">1. Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="update.html">3. Update Procedure</a></li>
<li class="toctree-l1"><a class="reference internal" href="first.html">4. First steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="shipped-packages.html">5. Shipped Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributions.html">6. Third-Party Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">7. Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="theming.html">8. Theming</a></li>
<li class="toctree-l1"><a class="reference internal" href="keyboard.html">9. Keyboard Shortcuts</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-catalog.html">10. Customize your Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">11. Architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">12. Packages Structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#packages-repositories">12.1. Packages Repositories</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#live-packages">12.1.1. Live Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installed-packages-downloaded">12.1.2. Installed Packages (Downloaded)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#official-packages-shipped">12.1.3. Official Packages (Shipped)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#internal-package">12.1.4. Internal Package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#package-naming">12.2. Package Naming</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">13. Extending Keypirinha (API)</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">14. Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">15. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">16. Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">17. Credits</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Keypirinha</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">12. </span>Packages Structure</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="packages-structure">
<h1><span class="section-number">12. </span>Packages Structure<a class="headerlink" href="#packages-structure" title="Permalink to this headline">¶</a></h1>
<p>To make <a class="reference internal" href="glossary.html#term-Plugins"><span class="xref std std-term">Plugins</span></a> easier to distribute, Keypirinha has been introduced the
concept of <a class="reference internal" href="glossary.html#term-Packages"><span class="xref std std-term">Packages</span></a>.</p>
<p>In Keypirinha, a package is a container that groups one or several plugins
designed to work together, as well as optional configuration files and
dependencies.</p>
<p>A package can take the form of a directory containing loose files, or a Zip
archive with the <code class="file docutils literal notranslate"><span class="pre">.keypirinha-package</span></code> extension (for redistribution).</p>
<div class="section" id="packages-repositories">
<h2><span class="section-number">12.1. </span>Packages Repositories<a class="headerlink" href="#packages-repositories" title="Permalink to this headline">¶</a></h2>
<p>There are four <a class="reference internal" href="glossary.html#term-Repositories"><span class="xref std std-term">repositories</span></a> of packages. <strong>In order of descending
priority:</strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="#pack-live"><span class="std std-ref">Live Packages</span></a>: individual directories with loose files</p></li>
<li><p><a class="reference internal" href="#pack-installed"><span class="std std-ref">Installed Packages (Downloaded)</span></a>: Zip archives with the <code class="file docutils literal notranslate"><span class="pre">.keypirinha-package</span></code>
extension, downloaded and/or installed manually by the user.</p></li>
<li><p><a class="reference internal" href="#pack-official"><span class="std std-ref">Official Packages (Shipped)</span></a>: Zip archives with the <code class="file docutils literal notranslate"><span class="pre">.keypirinha-package</span></code>
extension. Packages officially supported and shipped with the application.</p></li>
<li><p><a class="reference internal" href="#pack-internal"><span class="std std-ref">Internal Package</span></a>
Hard-coded in the application.</p></li>
</ul>
<p>Except for the <a class="reference internal" href="#pack-internal"><span class="std std-ref">Internal Package</span></a> type, the only difference between those
Repositories is the way they are stored and their location.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>A Package content can span over multiple Repositories. This is convenient if
you wish to modify an Installed or Official package like its source code for
example, without having to alter the original files.</p>
<p>For that reason, there is an order of precedence when loading a Package and
if two files with the same name belong to the same Package, the file located
in the Repository with the highest priority will override the others.</p>
</div>
<div class="section" id="live-packages">
<span id="pack-live"></span><h3><span class="section-number">12.1.1. </span>Live Packages<a class="headerlink" href="#live-packages" title="Permalink to this headline">¶</a></h3>
<p>Live packages, or Loose packages, are individual directories containing loose
files. They are located under the <code class="file docutils literal notranslate"><span class="pre">Packages</span></code> directory in user’s folder.</p>
<p>This is the place to start if you wish to create your own package or to modify
an existing one.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Package naming is pretty strict and Keypirinha will <strong>silently</strong> ignore a
Package if its name does not comply to the rules described in the
<a class="reference internal" href="#pack-naming"><span class="std std-ref">Package Naming</span></a> section below.</p>
</div>
<p>This Repository is named <em>Live</em> because it is the only one that allows file
change at runtime. May it be to configuration files, to its source code or any
other resource, the Package will be reloaded soon after a file has been
modified, renamed or delete. However, note that if <strong>only</strong> an <code class="file docutils literal notranslate"><span class="pre">.ini</span></code> file
is modified, the application will call the
<a class="reference internal" href="api/plugin.html#keypirinha.Plugin.on_events" title="keypirinha.Plugin.on_events"><code class="xref py py-meth docutils literal notranslate"><span class="pre">keypirinha.Plugin.on_events()</span></code></a> method of every plugin that belong to the
parent package instead of fully reloading it.</p>
</div>
<div class="section" id="installed-packages-downloaded">
<span id="pack-installed"></span><h3><span class="section-number">12.1.2. </span>Installed Packages (Downloaded)<a class="headerlink" href="#installed-packages-downloaded" title="Permalink to this headline">¶</a></h3>
<p>Packages are meant to be easily redistributable and installable. A dedicated
directory called <code class="file docutils literal notranslate"><span class="pre">InstalledPackages</span></code> under user’s directory is available
for this purpose.</p>
<p>Package files are Zip archives with the <code class="file docutils literal notranslate"><span class="pre">.keypirinha-package</span></code> extension.</p>
</div>
<div class="section" id="official-packages-shipped">
<span id="pack-official"></span><h3><span class="section-number">12.1.3. </span>Official Packages (Shipped)<a class="headerlink" href="#official-packages-shipped" title="Permalink to this headline">¶</a></h3>
<p>The Official packages are shipped with every Keypirinha’s distribution. They are
individually packed in a Zip archive with the <code class="file docutils literal notranslate"><span class="pre">.keypirinha-package</span></code>
extension and are stored in the <code class="file docutils literal notranslate"><span class="pre">default/Packages</span></code> directory directly
located under Keypirinha’s installation directory.</p>
</div>
<div class="section" id="internal-package">
<span id="pack-internal"></span><h3><span class="section-number">12.1.4. </span>Internal Package<a class="headerlink" href="#internal-package" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Internal</span></code> is actually both a type of package and the name of the package
itself.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Internal</span></code> package is implemented in the application itself and its
behavior is unalterable. Any other type of <a class="reference internal" href="glossary.html#term-Package"><span class="xref std std-term">package</span></a> is said to be
<em>external</em>.</p>
<p>See <a class="reference internal" href="packages/internal.html"><span class="doc">Internal Package</span></a> for more information about how to use this package.</p>
</div>
</div>
<div class="section" id="package-naming">
<span id="pack-naming"></span><h2><span class="section-number">12.2. </span>Package Naming<a class="headerlink" href="#package-naming" title="Permalink to this headline">¶</a></h2>
<p>Rules for package naming:</p>
<ul>
<li><p>Name can contain alphanumeric characters (case insensitive) and the following
characters: <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">=</span></code>, <code class="docutils literal notranslate"><span class="pre">_</span></code>, <code class="docutils literal notranslate"><span class="pre">#</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>, <code class="docutils literal notranslate"><span class="pre">(</span></code>, <code class="docutils literal notranslate"><span class="pre">)</span></code>, <code class="docutils literal notranslate"><span class="pre">[</span></code>,
<code class="docutils literal notranslate"><span class="pre">]</span></code>, <code class="docutils literal notranslate"><span class="pre">{</span></code>, <code class="docutils literal notranslate"><span class="pre">}</span></code></p></li>
<li><p>Name must be at least 3 characters, up to 50</p></li>
<li><p>Name must begin and end by an alphanumeric character</p></li>
<li><p>Consecutives non-alphanumeric characters are not allowed.</p></li>
<li><p>Name must not contain “Keypirinha”</p></li>
<li><p>The following names are reserved:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">all</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">app</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">application</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">builtin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">builtins</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cache</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">env</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extern</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">external</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hook</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">icon</span></code></p></li>
</ul>
</td><td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">image</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">intern</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internal</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kpsdk</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">local</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">locale</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">main</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nil</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">official</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package</span></code></p></li>
</ul>
</td><td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">plugin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">python</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">res</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resource</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sdk</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">temp</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">theme</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tmp</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">script</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">var</span></code></p></li>
</ul>
</td></tr></table>
</li>
</ul>
<p>If the name of a Package does not comply to those rules, the Package will be
silently ignored by the application and never be loaded until renamed
accordingly. Renaming can be done at runtime in this case.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="13. Extending Keypirinha (API)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="architecture.html" class="btn btn-neutral float-left" title="11. Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2013-2018, Jean-Charles Lefebvre

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
   
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-74522446-1', 'auto');
    ga('send', 'pageview');
  </script>

</body>
</html>
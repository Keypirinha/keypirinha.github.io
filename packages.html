

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Packages &mdash; Keypirinha 2.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Keypirinha 2.0.0 documentation" href="index.html"/>
        <link rel="next" title="6. Shipped Packages" href="shippacks.html"/>
        <link rel="prev" title="4. Configuration" href="configuration.html"/>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-74522446-1', 'auto');
    ga('send', 'pageview');
  </script>


  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Keypirinha
          

          
            
            <img src="_static/app-128.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="first.html">2. First steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">3. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">4. Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">5. Packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#packages-hives">5.1. Packages Hives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#live-packages-loose">5.1.1. Live Packages (Loose)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installed-packages-downloaded">5.1.2. Installed Packages (Downloaded)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#official-packages-shipped">5.1.3. Official Packages (Shipped)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#internal-package">5.1.4. Internal Package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#package-naming">5.2. Package Naming</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="shippacks.html">6. Shipped Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">7. Extending <em>Keypirinha</em> (API)</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">8. Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">9. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">10. Frequently Asked Questions (FAQ)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Keypirinha</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>5. Packages</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="packages">
<h1>5. Packages<a class="headerlink" href="#packages" title="Permalink to this headline">¶</a></h1>
<p>To make <a class="reference internal" href="glossary.html#term-plugins"><span class="xref std std-term">plugins</span></a> easier to distribute, <em>Keypirinha</em> has been introduced the
concept of <a class="reference internal" href="glossary.html#term-packages"><span class="xref std std-term">Packages</span></a>.</p>
<p>In <em>Keypirinha</em>, a package is a container (e.g.: a directory; or a Zip archive with
the <code class="file docutils literal"><span class="pre">.keypirinha-package</span></code> extension) that groups one or several plugins
designed to work together. It also contains the configuration files and
dependencies, if any.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><em>Keypirinha</em> cannot load a plugin if it is not encapsulated in a Package.</p>
</div>
<div class="section" id="packages-hives">
<h2>5.1. Packages Hives<a class="headerlink" href="#packages-hives" title="Permalink to this headline">¶</a></h2>
<p>There are four <a class="reference internal" href="glossary.html#term-hives"><span class="xref std std-term">hives</span></a> (locations) of packages. In order of priority:</p>
<ul class="simple">
<li><a class="reference internal" href="#pack-live"><span>Live Packages (Loose)</span></a>: individual directories with loose files</li>
<li><a class="reference internal" href="#pack-installed"><span>Installed Packages (Downloaded)</span></a>: Zip archives with the <code class="file docutils literal"><span class="pre">.keypirinha-package</span></code>
extension, downloaded and/or installed manually by the user.</li>
<li><a class="reference internal" href="#pack-official"><span>Official Packages (Shipped)</span></a>: Zip archives with the <code class="file docutils literal"><span class="pre">.keypirinha-package</span></code>
extension. Packages officially supported and shipped with the application.</li>
<li><a class="reference internal" href="#pack-internal"><span>Internal Package</span></a>
Hard-coded in the application.</li>
</ul>
<p>Except for the <a class="reference internal" href="#pack-internal"><span>Internal Package</span></a> type, the only difference between those
Hives is the way they are stored and their location.</p>
<p>A Package content can span over multiple Hives. This is convenient if you wish
to modify an Installed or Official package like its configuration or its source
code for example, without having to alter the original files.</p>
<p>For that reason, there is an order of precedence when loading a Package and if
two files with the same name belong to the same Package, the file located in
the Hive with the highest priority will override the others.</p>
<div class="section" id="live-packages-loose">
<span id="pack-live"></span><h3>5.1.1. Live Packages (Loose)<a class="headerlink" href="#live-packages-loose" title="Permalink to this headline">¶</a></h3>
<p>Live packages, or Loose packages, are individual directories containing loose
files. They are located under the <code class="file docutils literal"><span class="pre">Packages</span></code> directory in user&#8217;s folder.</p>
<p>This is the place to start if you wish to create your own package or to modify
an existing one.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Package naming is pretty strict and <em>Keypirinha</em> will <strong>silently</strong> ignore a
Package if its name does not comply to the rules described in the
<a class="reference internal" href="#pack-naming"><span>Package Naming</span></a> section below.</p>
</div>
<p>This Hive is named <em>Live</em> because it is the only one that allows file change at
runtime. May it be to configuration files, to its source code or any other
resource, the Package will be reloaded soon after a file has been modified,
renamed or delete. However, note that if <strong>only</strong> an <code class="file docutils literal"><span class="pre">.ini</span></code> file is
modified, the application will broadcast the <code class="docutils literal"><span class="pre">CONFIG_CHANGED</span></code> message (see
<a class="reference internal" href="api-class-plugin.html#keypirinha.Plugin.on_config_changed" title="keypirinha.Plugin.on_config_changed"><code class="xref py py-meth docutils literal"><span class="pre">keypirinha.Plugin.on_config_changed()</span></code></a>) to the plugins of the concerned
package instead of fully reloading it.</p>
</div>
<div class="section" id="installed-packages-downloaded">
<span id="pack-installed"></span><h3>5.1.2. Installed Packages (Downloaded)<a class="headerlink" href="#installed-packages-downloaded" title="Permalink to this headline">¶</a></h3>
<p>Packages are meant to be easily redistributable and installable. A dedicated
directory called <code class="file docutils literal"><span class="pre">InstalledPackages</span></code> under user&#8217;s directory is available
for this purpose.</p>
<p>Package files are Zip archives with the <code class="file docutils literal"><span class="pre">.keypirinha-package</span></code> extension.</p>
</div>
<div class="section" id="official-packages-shipped">
<span id="pack-official"></span><h3>5.1.3. Official Packages (Shipped)<a class="headerlink" href="#official-packages-shipped" title="Permalink to this headline">¶</a></h3>
<p>The Official packages are shipped with every <em>Keypirinha</em>&#8216;s distribution. They are
individually packed in a Zip archive with the <code class="file docutils literal"><span class="pre">.keypirinha-package</span></code>
extension and are stored in the <code class="file docutils literal"><span class="pre">default/Packages</span></code> directory directly
located under <em>Keypirinha</em>&#8216;s installation directory.</p>
</div>
<div class="section" id="internal-package">
<span id="pack-internal"></span><h3>5.1.4. Internal Package<a class="headerlink" href="#internal-package" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">Internal</span></code> is actually both a type of package and the name of the package
itself.</p>
<p>The <code class="docutils literal"><span class="pre">Internal</span></code> package is implemented in the application itself and its
behavior is unalterable. For now it only embeds the <code class="docutils literal"><span class="pre">Internal.About</span></code> plugin
that exposes some core features to the <a class="reference internal" href="glossary.html#term-catalog"><span class="xref std std-term">catalog</span></a> like <code class="docutils literal"><span class="pre">About</span></code>, <code class="docutils literal"><span class="pre">Exit</span></code>,
<code class="docutils literal"><span class="pre">Configure</span> <span class="pre">Application</span></code>, etc...</p>
<p>Any other type of <a class="reference internal" href="glossary.html#term-package"><span class="xref std std-term">package</span></a> is said to be <em>external</em>.</p>
</div>
</div>
<div class="section" id="package-naming">
<span id="pack-naming"></span><h2>5.2. Package Naming<a class="headerlink" href="#package-naming" title="Permalink to this headline">¶</a></h2>
<p>Rules for package naming:</p>
<ul>
<li><p class="first">Name can contain alpha-numeric characters (case insensitive) and space
characters (<code class="docutils literal"><span class="pre">0x20</span></code>), as well as the following characters: <code class="docutils literal"><span class="pre">-</span></code>, <code class="docutils literal"><span class="pre">+</span></code>,
<code class="docutils literal"><span class="pre">=</span></code>, <code class="docutils literal"><span class="pre">_</span></code>, <code class="docutils literal"><span class="pre">#</span></code>, <code class="docutils literal"><span class="pre">&#64;</span></code>, <code class="docutils literal"><span class="pre">(</span></code>, <code class="docutils literal"><span class="pre">)</span></code>, <code class="docutils literal"><span class="pre">[</span></code>, <code class="docutils literal"><span class="pre">]</span></code>, <code class="docutils literal"><span class="pre">{</span></code>, <code class="docutils literal"><span class="pre">}</span></code></p>
</li>
<li><p class="first">Name must be at least 3 characters long</p>
</li>
<li><p class="first">Name must not begin or end with a space character</p>
</li>
<li><p class="first">Sequences of multiple space characters are not accepted</p>
</li>
<li><p class="first">The following names are reserved:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><em>Keypirinha</em></li>
<li><code class="docutils literal"><span class="pre">app</span></code></li>
<li><code class="docutils literal"><span class="pre">application</span></code></li>
<li><code class="docutils literal"><span class="pre">builtin</span></code></li>
<li><code class="docutils literal"><span class="pre">builtins</span></code></li>
<li><code class="docutils literal"><span class="pre">cache</span></code></li>
<li><code class="docutils literal"><span class="pre">data</span></code></li>
<li><code class="docutils literal"><span class="pre">default</span></code></li>
<li><code class="docutils literal"><span class="pre">extern</span></code></li>
</ul>
</td><td><ul class="simple">
<li><code class="docutils literal"><span class="pre">external</span></code></li>
<li><code class="docutils literal"><span class="pre">intern</span></code></li>
<li><code class="docutils literal"><span class="pre">internal</span></code></li>
<li><code class="docutils literal"><span class="pre">icon</span></code></li>
<li><code class="docutils literal"><span class="pre">image</span></code></li>
<li><code class="docutils literal"><span class="pre">local</span></code></li>
<li><code class="docutils literal"><span class="pre">locale</span></code></li>
<li><code class="docutils literal"><span class="pre">main</span></code></li>
</ul>
</td><td><ul class="simple">
<li><code class="docutils literal"><span class="pre">official</span></code></li>
<li><code class="docutils literal"><span class="pre">package</span></code></li>
<li><code class="docutils literal"><span class="pre">python</span></code></li>
<li><code class="docutils literal"><span class="pre">res</span></code></li>
<li><code class="docutils literal"><span class="pre">resource</span></code></li>
<li><code class="docutils literal"><span class="pre">temp</span></code></li>
<li><code class="docutils literal"><span class="pre">tmp</span></code></li>
<li><code class="docutils literal"><span class="pre">user</span></code></li>
</ul>
</td></tr></table>
</li>
</ul>
<p>If the name of a Package does not comply to those rules, the Package will be
silently ignored by the application and never be loaded until renamed
accordingly. Renaming can be done at runtime in this case.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="shippacks.html" class="btn btn-neutral float-right" title="6. Shipped Packages" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="configuration.html" class="btn btn-neutral" title="4. Configuration" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2016, Jean-Charles Lefebvre.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>